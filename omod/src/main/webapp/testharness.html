<html>
<head>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/redmond/jquery-ui.css" />
<script data-main="js/app.js" src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.0.6/require.min.js"></script>
<script type="text/javascript">

requirejs.config({
    shim: {
        'jquery-ui': ['jquery']
    }
});
	
require([
    "jquery",
    "lib/transparency.min",
    "cs!view/SearchConceptsDialog",
    "cs!view/CreateConceptProposalView",
    "mocks/concept-list.data",
    "cs!mocks/SearchConceptsPresenterMock",
    "cs!mocks/CreateConceptProposalPresenterMock"
  ], function($, transparency, SearchConceptsDialog, CreateConceptProposalView, conceptData, SearchConceptsPresenterMock, CreateConceptProposalPresenterMock) {

    var form = new CreateConceptProposalView();
    $('#container').append(form.render());

    var createPresenter = new CreateConceptProposalPresenterMock(form);

    transparency.register($);
		
    // temporarily pass in jQuery - need to read up about require-jquery
    var view = new SearchConceptsDialog($);
    var presenter = new SearchConceptsPresenterMock(view);
		
    $("#launch-popup").click(function() {
        view.open();
    });

    $("#closeDialog").click(function() {
        view.close();
    });
    
    $('#ajaxCallback').click(function() {
        view.setConcepts(conceptData);
    });
    
    $('#noData').click(function() {
        view.setConcepts([]);
    });
});
</script>

</head>
<body>
<button id="launch-popup">Open dialog</button>
<button id="closeDialog">Close dialog</button>
<button id="ajaxCallback">Simulate ajax response: with data</button>
<button id="noData">Simulate ajax response: 0 rows found</button>

<div id="container"></div>

</body>
</html>
