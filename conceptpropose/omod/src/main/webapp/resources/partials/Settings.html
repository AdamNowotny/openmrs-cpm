<div id="cpm-settings">
    <cpm-menu menu="menu"></cpm-menu>
    <div ng-show="isLoading" class="loading"><img ng-src="{{contextPath}}/images/loading.gif" /> Loading...</div>
    <h2 id="headerText">Concept Proposal Settings</h2>
    <h3>Central dictionary</h3>
    <form>
        <table>
            <tr>
                <td align="right"><label for="url">URL</label></td>
                <td>
                    <input id="url" ng-model="settings.url" ng-disabled="isLoading"/>
                    <span style="font-size: smaller;"><em>(Please include the context name)</em></span>
                </td>
            </tr>
            <tr>
                <td align="right"><label for="username">Username</label></td>
                <td><input id="username" ng-model="settings.username" ng-disabled="isLoading"/></td>
            </tr>
            <tr>
                <td align="right"><label for="password">Password</label></td>
                <td><input type="password" id="password" ng-model="settings.password" ng-disabled="isLoading"/></td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <div ng-show="!settingsValid && connectErrorMessage" style="font-weight: bold; color: red;">
                        <span>These settings appear to be incorrect; you may not be able to submit proposals.  The URL should point to the root of the OpenMRS installation.</span><br/>
                        <span>Connection Error: {{ connectErrorMessage }}</span>
                    </div>
                </td>
                <td><span ng-show="settingsValid" style="font-weight: bold; color: green">These settings appear to be correct.</span></td>
            </tr>
        </table>
        <button ng-click="save()" ng-disabled="isLoading">Save</button>
        <button ng-click="testConnection()" ng-disabled="isLoading">Test Connection</button>
    </form>
</div>